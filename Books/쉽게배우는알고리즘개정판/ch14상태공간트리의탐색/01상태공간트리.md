# 01 상태 공간 트리

- 상태 공간 트리는 특정 알고리즘의 `진행과정`(문제 해결 과정의 중간 상태)을 트리로 나타낸 것이다. <br />
여기서 다루는 알고리즘은 문제 해결과정을 상태 공간 트리에서 탐색 행위로 보며, <br />
모든 상태를 나열한다.

### TPS를 예로 든 상태 공간 트리 설명
- TPS는 해밀토니안 사이클 중 가장 짧은 것을 찾는 문제
    - `해밀토니안 사이클`이란 그래프에서 모든 정점을 순회하고 돌아오는 사이클

- TSP 문제의 형태는 다양하지만 이차원 평명상에 있는 n개의 정점들로 구성된 <br /> 
가장 짧은 해밀토니안 사이클을 찾는 문제가 가장 단순한 형태이다.

- 아래 그림 (a)는 TSP 예로 평면 6개의 정점이 존재한다. 그림 (b)와 (c)는 해밀토니안 사이클의 에다. <br />
이 중 (c)는 모든 가능한 해밀토니안 사이클 중 가장 짧은 최적해다.
- 그림 14-1의 TSP는 임의의 두 정점 u, v를 잇는 두 간선(u,v)와 (v,u)의 길이가 동일하다.
즉, 간선이 하나 있으면 이것은 양방향으로 동일한 길이를 가지며, 이것을 `대칭형(Symmetric) TSP`라 한다.
    - 이 성징이 만족되지 않는 `비대칭(Asymmetric TSP) TSP`도 존재 


<img width="390" alt="그림 14-1 TSP 문제의 예와 해들" src="https://user-images.githubusercontent.com/40673012/98875396-7d089500-24bf-11eb-925a-2fbdac2f2974.png">

- 그림 14-2는 두 정점 사이의 두 간선 길이다 반드시 같지는 않다. 
    -  정점 1에서 정점 5로 가는 거리와 정점 5에서 정점 1로 가는 거리가 일치하지 않는다.  

<img width="424" alt="그림 14-2 비대칭 TSP 문제의 인접 행렬과 그래프" src="https://user-images.githubusercontent.com/40673012/98875400-80038580-24bf-11eb-90e1-3f58ead3ce17.png">

- 그림 14-3은 그림 14-2의 TSP 예를 대상으로 `모든 경우의 수`를 탐색하는 알고리즘을 트리로 나타낸다. 
이런 방식으로 모든 경우의 수를 탐색하는 것을 `사전식 탐색`이라 한다. 
사전에서 1페이지부터 끝까지 알파벳 순으로 모든 단어를 검사하는 것과 같다.
- 그림 14-3에서 각 `노드`는 하나의 `부분 경로`를 의미하며, 문제 풀이 과정의 진행 상황 또는 상태를 나타낸다. 
    - 부분 경로의 수는 수열로 표시되어 있음 (9번 노드는 수열 "1-2-5"로 앞으로 두 정점을 더 거쳐 정점 1로 돌아와야 하는 상태)
- 노드 왼쪽의 1, 2 등 표시는 탐색 알고리즘에서 트리의 각 노드가 방문된 순서이며, <br />
리프 노드 아래 네모의 수는 완성된 해밀토니안 사이클의 길이다. <br />
    - 네모 위의 순서대로 나열된 정점들은 이에 대응되는 해밀토니안 사이클
- 모든 정점을 방문하고 돌아오는 사이클은 어디서 시작하든 상관이 없으므로 `시작점을 정점 1로 고정`한다. <br />
이런식으로 5개의 정점은 가진 TSP의 최적해를 찾으려면 모두 4!, 즉 24개의 해를 검사해보아야하며, <br />
이 과정을 트리로 나타내면 총 41개의 노드를 가진다. <br />
이렇게 문제 풀이가 진행된 상태를 각각 노드로 나타냈다고 해서 `상태 공간 트리`라 한다.

<img width="486" alt="그림 14-3 [그림14-2]의 TSP 예를 대상으로 한 사전식 탐색의 예" src="https://user-images.githubusercontent.com/40673012/98875403-8134b280-24bf-11eb-816e-0c4f6d590c6d.png">
