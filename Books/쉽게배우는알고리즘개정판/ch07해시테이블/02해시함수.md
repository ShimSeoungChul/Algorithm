# 02 해시 함수

## 1 나누기 방법

- 다음과 같은 모양의 해시 함수다. <br />
`h(x) = x mod m`    <br />

- m은 해시 테이블의 크기이며, 해시 테이블에 있는 m개의 자리가 0 ~ m-1의 주소값을 가지므로 <br />
m으로 나눈 나머지 연산을 사용하는 것이 매우 자연스럽다
- 해시 테이블 크기 m은 2의 멱수(거듭제곱)에 가깝지 않은 `소수`를 택하는 것이 좋다. <br />
만일 m = 2^p이라면 입력 원소의 하위 p비트에 의해 해시 값이 결정되기에 해시 값을 분산시키기에 좋지 않다. <br />
해시 값은 `입력 원소의 모든 비트를 이용`해야 확률적으로 좋은 분포를 갖는다.

## 2 곱하기 방법
- 나누기 방법은 해시 테이블 크기보다 큰 수를 해시 테이블 크기 범위에 들어오도록 수축시킨다. <br />
곱하기 방법은 이와 반대다. <br />

- 원리: 1)입력값을 0과 1 사이의 소수로 대응시킨 후 2)해시 테이블 크기 m을 곱하여 0 ~ m-1 사이로 `팽창`시킨다. 
- 이 방법에서는 해시 함수의 특성을 결정짓는 0 < A < 1 범위의 상수 A를 미리 준비해야한다.<br />
임의의 원소 x에 대해 다음 과정을 거쳐 x의 주소를 결정한다. <br />
    - x에 A를 곱한 다음 소수부만 취한다.
    - 방금 취한 소수부에 m을 곱하여 그 정수부를 취한다.

- 정리하면 해시 함수는 다음과 같다.
h(x) = ⌊ m(xA mod 1) ⌋

<img width="383" alt="곱하기방법의작동과정을보여주는예" src="https://user-images.githubusercontent.com/40673012/95030133-6d3fa900-06e8-11eb-8ec1-e3f8ef04a78a.png" style="max-width:100%;">

- 곱하기 방법은 나누기 방법과 달리 해시 테이블 크기 m을 아무렇게나 잡아도 상관 없다. <br />
따라서 컴퓨터의 이준수 환경에 맞게 m = 2^p으로 잡는 것이 자연스럽다.
- 상수 A를 어떻게 잡느냐에 따라 해시 값 붙포가 많은 영향을 받는다. <br />
저명한 컴퓨터과학자인 도널드 크누스는 (√5 - 1) / 2를 제안한다.

